<div class="container mt-4">
    <h2 class="text-center">Gestión de Compras de Res</h2>
    
    <!-- Formulario para crear una compra -->
    <form id="formCompra" class="mb-4">
        <h3>Crear Compra</h3>
        <div class="mb-3">
            <label for="fechaCompra" class="form-label">Fecha de Compra:</label>
            <input type="date" id="fechaCompra" class="form-control" required>
        </div>

        <div class="mb-3">
            <label for="idProveedor" class="form-label">Proveedor:</label>
            <select id="idProveedor" class="form-select" required></select>
        </div>

        <button type="button" id="btnCrearCompra" class="btn btn-primary">Crear Compra</button>
        <p id="mensajeCompraCreada" class="mt-2 text-success"></p>
    </form>

    <!-- Formulario para agregar detalles de la compra -->
    <form id="formDetalleCompra" style="display: none;" class="mb-4">
        <h3>Agregar Detalle de Compra</h3>

        <div class="mb-3">
            <label for="codigoRes" class="form-label">Código de Res:</label>
            <input type="text" id="codigoRes" class="form-control" required>
        </div>

        <div class="mb-3">
            <label for="peso" class="form-label">Peso (kg):</label>
            <input type="number" id="peso" class="form-control" step="0.01" required>
        </div>

        <div class="mb-3">
            <label for="sexo" class="form-label">Sexo:</label>
            <select id="sexo" class="form-select" required></select>
        </div>

        <div class="mb-3">
            <label for="precioKilo" class="form-label">Precio por Kilo:</label>
            <input type="number" id="precioKilo" class="form-control" step="0.01" required>
        </div>

        <div class="mb-3">
            <label for="totalDetalle" class="form-label">Total:</label>
            <input type="number" id="totalDetalle" class="form-control" step="0.01" readonly>
        </div>

        <button type="button" id="btnAgregarDetalle" class="btn btn-secondary">Agregar Detalle</button>
        <button type="button" id="btnGuardarCompraCompleta" class="btn btn-success">Guardar Compra Completa</button>
    </form>

    <!-- Tabla temporal para los detalles agregados -->
    <h3>Detalles de Compra</h3>
    <table class="table table-bordered">
        <thead class="table-light">
            <tr>
                <th>Código de Res</th>
                <th>Peso (kg)</th>
                <th>Sexo</th>
                <th>Precio por Kilo</th>
                <th>Total x Res</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody id="tablaDetalles"></tbody>
    </table>

    <hr>

    <!-- Tabla para listar las compras guardadas -->
    <h3>Compras Guardadas</h3>
    <table class="table table-bordered">
        <thead class="table-light">
            <tr>
                <th>ID Compra</th>
                <th>Fecha de Compra</th>
                <th>Proveedor</th>
                <th>Total</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody id="tablaCompras"></tbody>
    </table>
</div>
